!function(t,n){var e=window.flask_jinja_context__base.appRoot+"/api/mkwvconf",l=t("#wvdial-modal"),v=t("#wvdial-country"),c=t("#wvdial-provider"),p=t("#wvdial-apn"),d=t("#generate-wvdial-config");function o(){var n=v.val(),a=c.val(),o=p.val(),i=!n,t=!n||!a,e=!n||!a||!o;c.prop("disabled",i),p.prop("disabled",t),d.prop("disabled",e),i&&c.empty(),t&&p.empty()}function i(a,n){var o,i;t("<option/>").text("").appendTo(a),n.forEach(function(n){t("<option/>").text(n).appendTo(a)}),0<(i=(o=a).find("option")).length&&""===i[0].value&&2===i.length&&o.val(i[1].value).trigger("change")}l.on("show.bs.modal",function(){t.getJSON(e+"/",function(n){i(v,n.countries)}),o()}),v.on("change",function(){var n=v.val();n&&(c.empty(),p.empty(),t.getJSON(e+"/"+n,function(n){i(c,n.providers)})),o()}),c.on("change",function(){var n=c.val(),a=v.val();a&&n&&(p.empty(),t.getJSON(e+"/"+a+"/"+n,function(n){i(p,n.apns)})),o()}),p.on("change",function(){o()}),d.on("click",function(){var n=v.val(),a=c.val(),o=p.val();if(n&&a&&o){var i=e+"/"+n+"/"+a+"/"+o;t.getJSON(i,function(n){t("#wvdial").val(n.config),t("#sim_type").val("wvdial"),l.modal("hide")})}})}(window.jQuery);